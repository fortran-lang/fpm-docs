
<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>マニフェスト詳説 &#8212; Fortran Package Manager</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=84ace793992934648b4de8eed757e5a2" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/translations.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script src="../_static/sphinx-book-theme.9d8b4a8b9bb19db25eeaddc40d639ba2.js"></script>
    <link rel="shortcut icon" href="../_static/fpm-logo-mono.svg"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="検索" href="../search.html" />
    <link rel="next" title="Built-in dependencies (&#34;Metapackages&#34;)" href="metapackages.html" />
    <link rel="prev" title="参考資料" href="index.html" /> 
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="ja">
    

    <!-- Google Analytics -->
      
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<div class="col-12 col-md-3 bd-sidebar site-navigation " id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/fpm-logo-color.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Fortran Package Manager</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="ドキュメントを検索..." aria-label="ドキュメントを検索..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../install/index.html">
   Installation
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../tutorial/index.html">
   実践手引
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorial/hello-fpm.html">
     fpm最初の一歩
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorial/dependencies.html">
     依存関係の追加
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../tutorial/plugins.html">
     プラグインによるfpmの拡張
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../how-to/index.html">
   利用方法
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../how-to/compute-pi-openmp.html">
     Computing PI with OpenMP
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../how-to/selective-cleaning.html">
     Cleaning build artifacts with fpm
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 current active has-children">
  <a class="reference internal" href="index.html">
   参考資料
  </a>
  <input checked="" class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul class="current">
   <li class="toctree-l2 current active">
    <a class="current reference internal" href="#">
     マニフェスト詳説
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="metapackages.html">
     Built-in dependencies ("Metapackages")
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="compile_commands.html">
     <code class="docutils literal notranslate">
      <span class="pre">
       compile_commands.json
      </span>
     </code>
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference external" href="https://fortran-lang.github.io/fpm">
     API文書
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../design/index.html">
   設計文書
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
  <label for="toctree-checkbox-4">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../design/logo.html">
     FPMロゴ
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../registry/index.html">
   レジストリ
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
  <label for="toctree-checkbox-5">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../registry/settings.html">
     Settings
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../registry/publish.html">
     Package upload
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../registry/naming.html">
     Module name requirements
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../news.html">
   新着情報
  </a>
 </li>
</ul>

    </div>
</nav><p align="center">
  <div class="navbar_extra_footer">
    <div class="sd-fs-6">
    ·
      <a href="https://fpm.fortran-lang.org/zh_CN/spec/manifest.html">cn</a>
      ·
      <a href="https://fpm.fortran-lang.org/cs/spec/manifest.html">cs</a>
      ·
      <a href="https://fpm.fortran-lang.org/de/spec/manifest.html">de</a>
      ·
      <a href="https://fpm.fortran-lang.org//spec/manifest.html">en</a>
      ·
      <a href="https://fpm.fortran-lang.org/es/spec/manifest.html">es</a>
      ·
      <a href="https://fpm.fortran-lang.org/fr/spec/manifest.html">fr</a>
      ·
      <b>ja</b>
      ·
      <a href="https://fpm.fortran-lang.org/nl/spec/manifest.html">nl</a>
      ·
      <a href="https://fpm.fortran-lang.org/pt/spec/manifest.html">pt</a>
      ·
      <a href="https://fpm.fortran-lang.org/ru/spec/manifest.html">ru</a>
      ·
    </div>
    
    
<div class="sd-fs-4">
<a href="https://fortran-lang.discourse.group/" target="_blank">
    <i class="fab fa-discourse"></i>
</a>
<a href="https://twitter.com/fortranlang" target="_blank">
    <i class="fab fa-twitter"></i>
</a>
<a href="https://github.com/fortran-lang/fpm" target="_blank">
    <i class="fab fa-github"></i>
</a>
</div>

    
  </div>
</p>
</div>


          


          
<!-- This is an invisible pixel that we watch to see if we've scrolled. -->
<div class="sbt-scroll-pixel-helper"></div>
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            <div class="topbar-left">
                
                <label class="nav-toggle-button" for="__navigation">
                    <div class="visually-hidden">ナビゲーションを切り替え</div>
                    <i class="fas fa-bars"></i>
                </label>
                
            </div>
            
            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/fortran-lang/fpm-docs"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="ソースリポジトリ"><i
                    class="fab fa-github"></i>リポジトリ</button></a>
        
        <a class="edit-button" href="https://github.com/fortran-lang/fpm-docs/edit/main/pages/spec/manifest.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="このページを編集"><i class="fas fa-pencil-alt"></i>編集を提案する</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="全画面モード"
        title="全画面モード"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> 目次
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-name">
   プロジェクトの名前
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-version">
   プロジェクトのバージョン
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-license">
   プロジェクトのライセンス
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-maintainer">
   プロジェクトのメンテナ
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-author">
   プロジェクトの作成者
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-copyright">
   プロジェクトの著作権
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-description">
   プロジェクトの概要
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-categories">
   プロジェクトの分類
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-keywords">
   プロジェクトのキーワード
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-homepage">
   プロジェクトのホームページ
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-targets">
   プロジェクトの構築対象
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#library-configuration">
     ライブラリ
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#build-types">
     📦 Build types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#platform-support">
     🛠️ Platform support
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#installation-layout">
     📂 Installation layout
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#include-directory">
       インクルードディレクトリ
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#executable-targets">
     実行ファイル
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-targets">
     サンプル
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#test-targets">
     テスト
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#link-external-libraries">
   外部ライブラリのリンク
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#use-system-installed-modules">
   システムにインストールされたモジュールの利用
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#automatic-target-discovery">
   構築対象の自動検出
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fortran-features">
   Fortran features
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#implicit-typing">
     Implicit typing
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#implicit-external">
     Implicit external
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#source-form">
     Source form
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#specifying-dependencies">
   依存関係の指定
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dependencies-from-version-control-systems">
     バージョンコントロールシステムからの依存関係の指定
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dependencies-from-a-registry">
     Dependencies from a registry
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#namespace">
       Namespace
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#version">
       Version
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#local-dependencies">
     ローカルな依存関係の指定
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dependency-specific-macro-setting">
     Dependency-specific macro setting
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#development-dependencies">
     開発時の依存関係の指定
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installation-configuration">
   インストール設定
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#custom-module-directory">
     Custom module directory
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#preprocessor-configuration">
   Preprocessor configuration
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#specifying-the-preprocessor">
     Specifying the preprocessor
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#additional-free-data-field">
   設定の追加欄
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>マニフェスト詳説</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> 目次 </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-name">
   プロジェクトの名前
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-version">
   プロジェクトのバージョン
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-license">
   プロジェクトのライセンス
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-maintainer">
   プロジェクトのメンテナ
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-author">
   プロジェクトの作成者
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-copyright">
   プロジェクトの著作権
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-description">
   プロジェクトの概要
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-categories">
   プロジェクトの分類
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-keywords">
   プロジェクトのキーワード
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-homepage">
   プロジェクトのホームページ
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#project-targets">
   プロジェクトの構築対象
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#library-configuration">
     ライブラリ
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#build-types">
     📦 Build types
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#platform-support">
     🛠️ Platform support
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#installation-layout">
     📂 Installation layout
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#include-directory">
       インクルードディレクトリ
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#executable-targets">
     実行ファイル
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#example-targets">
     サンプル
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#test-targets">
     テスト
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#link-external-libraries">
   外部ライブラリのリンク
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#use-system-installed-modules">
   システムにインストールされたモジュールの利用
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#automatic-target-discovery">
   構築対象の自動検出
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fortran-features">
   Fortran features
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#implicit-typing">
     Implicit typing
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#implicit-external">
     Implicit external
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#source-form">
     Source form
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#specifying-dependencies">
   依存関係の指定
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dependencies-from-version-control-systems">
     バージョンコントロールシステムからの依存関係の指定
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dependencies-from-a-registry">
     Dependencies from a registry
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#namespace">
       Namespace
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#version">
       Version
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#local-dependencies">
     ローカルな依存関係の指定
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dependency-specific-macro-setting">
     Dependency-specific macro setting
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#development-dependencies">
     開発時の依存関係の指定
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#installation-configuration">
   インストール設定
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#custom-module-directory">
     Custom module directory
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#preprocessor-configuration">
   Preprocessor configuration
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#specifying-the-preprocessor">
     Specifying the preprocessor
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#additional-free-data-field">
   設定の追加欄
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                 <div class="section" id="manifest-reference">
<h1>マニフェスト詳説<a class="headerlink" href="#manifest-reference" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>各プロジェクトの<code class="docutils literal notranslate"><span class="pre">fpm.toml</span></code>ファイルは，マニフェストとよばれています．これは<a class="reference external" href="https://toml.io/ja/">TOML</a>形式で記述されます．マニフェストファイルは，以下の設定項目で構成されます．</p>
<ul class="simple">
<li><p><a class="reference internal" href="#project-name"><span class="std std-doc"><em>name</em></span></a>: プロジェクトの名前</p></li>
<li><p><a class="reference internal" href="#project-version"><span class="std std-doc"><em>version</em></span></a>: プロジェクトのバージョン</p></li>
<li><p><a class="reference internal" href="#project-license"><span class="std std-doc"><em>license</em></span></a>: プロジェクトのライセンス</p></li>
<li><p><a class="reference internal" href="#project-maintainer"><span class="std std-doc"><em>maintainer</em></span></a>: プロジェクトのメンテナ</p></li>
<li><p><a class="reference internal" href="#project-author"><span class="std std-doc"><em>author</em></span></a>: プロジェクトの作成者</p></li>
<li><p><a class="reference internal" href="#project-copyright"><span class="std std-doc"><em>copyright</em></span></a>: プロジェクトの著作権</p></li>
<li><p><a class="reference internal" href="#project-description"><span class="std std-doc"><em>description</em></span></a>: プロジェクトの概要</p></li>
<li><p><a class="reference internal" href="#project-categories"><span class="std std-doc"><em>categories</em></span></a>: プロジェクトに関連する分類</p></li>
<li><p><a class="reference internal" href="#project-keywords"><span class="std std-doc"><em>keywords</em></span></a>: プロジェクトを説明するキーワード</p></li>
<li><p><a class="reference internal" href="#project-homepage"><span class="std std-doc"><em>homepage</em></span></a>: プロジェクトのホームページ</p></li>
<li><p>ビルド設定:</p>
<ul>
<li><p><a class="reference internal" href="#automatic-target-discovery"><span class="std std-doc"><em>auto-tests</em></span></a>: テスト用実行ファイルの自動検出の切替</p></li>
<li><p><a class="reference internal" href="#automatic-target-discovery"><span class="std std-doc"><em>auto-examples</em></span></a>: サンプルプログラムの自動検出の切替</p></li>
<li><p><a class="reference internal" href="#automatic-target-discovery"><span class="std std-doc"><em>auto-executables</em></span></a>: 実行ファイルの自動検出の切替</p></li>
<li><p><a class="reference internal" href="#link-external-libraries"><span class="std std-doc"><em>link</em></span></a>: 外部依存関係とのリンク</p></li>
<li><p><a class="reference internal" href="#use-system-installed-modules"><span class="std std-doc"><em>external-modules</em></span></a>: fpmパッケージ内に存在しないモジュールの指定</p></li>
</ul>
</li>
<li><p>Fortran configuration:</p>
<ul>
<li><p><a class="reference internal" href="#implicit-typing"><span class="std std-doc"><em>implicit-typing</em></span></a>:
Toggle default implicit typing</p></li>
<li><p><a class="reference internal" href="#implicit-external"><span class="std std-doc"><em>implicit-external</em></span></a>:
Toggle implicit external interfaces</p></li>
<li><p><a class="reference internal" href="#source-form"><span class="std std-doc"><em>source-form</em></span></a>:
Select source form for project</p></li>
</ul>
</li>
<li><p>構築対象に関する設定項目</p>
<ul>
<li><p><a class="reference internal" href="#library-configuration"><span class="std std-doc"><em>library</em></span></a> ビルドされるライブラリの設定</p></li>
<li><p><a class="reference internal" href="#executable-targets"><span class="std std-doc"><em>executable</em></span></a> ビルドされる実行ファイルの設定</p></li>
<li><p><a class="reference internal" href="#test-targets"><span class="std std-doc"><em>test</em></span></a> ビルドされるテストの設定</p></li>
</ul>
</li>
<li><p>依存関係に関する設定項目</p>
<ul>
<li><p><a class="reference internal" href="#specifying-dependencies"><span class="std std-doc"><em>dependencies</em></span></a>: プロジェクトが参照するライブラリの依存関係</p></li>
<li><p><a class="reference internal" href="#development-dependencies"><span class="std std-doc"><em>dev-dependencies</em></span></a>: テストのみに必要な依存関係</p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#installation-configuration"><span class="std std-doc"><em>install</em></span></a>: インストール設定</p></li>
<li><p><a class="reference internal" href="#preprocessor-configuration"><span class="std std-doc"><em>preprocess</em></span></a>
Preprocessor configuration</p></li>
<li><p><a class="reference internal" href="#additional-free-data-field"><span class="std std-doc"><em>extra</em></span></a>: 設定の追加欄</p></li>
</ul>
<div class="section" id="project-name">
<h2>プロジェクトの名前<a class="headerlink" href="#project-name" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>プロジェクト名は，パッケージを識別し，それを参照するために用いられます．ライブラリと実行ファイルの標準の名前として用いられ，また他のパッケージの依存関係としてプロジェクトを列挙するときにも用いられます．したがって，プロジェクト名は常に記述する必要があります．</p>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hello_world&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="project-version">
<h2>プロジェクトのバージョン<a class="headerlink" href="#project-version" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>プロジェクトのバージョン番号を文字列で指定します．バージョンを管理・指定する標準的な方法は，<a class="reference external" href="https://semver.org/lang/ja/">セマンティックバージョニング</a>です．</p>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span>
</pre></div>
</div>
<p>versionの設定値として，プロジェクトのバージョン番号を含むファイルの名前をプロジェクト直下からの相対パスで指定できます．</p>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;VERSION&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="project-license">
<h2>プロジェクトのライセンス<a class="headerlink" href="#project-license" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>プロジェクトのライセンス設定欄には，ライセンス識別子を記述します．ライセンス情報を指定する標準的な方法は，<a class="reference external" href="https://spdx.org/licenses/">SPDX</a>識別子です．</p>
<p><strong>例:</strong></p>
<p><a class="reference external" href="https://www.gnu.org/licenses/lgpl-3.0-standalone.html">GNU Lesser General Public License</a>のバージョン3もしくはそれ以降の下で許諾されるプロジェクトは，次のように指定します．</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">license</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LGPL-3.0-or-later&quot;</span>
</pre></div>
</div>
<p><a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">Apache license, version 2.0</a>もしくは<a class="reference external" href="https://opensource.org/licenses/MIT">MIT license</a>のデュアルライセンスのプロジェクトの場合は，次のように指定します．</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">license</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Apache-2.0 OR MIT&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="project-maintainer">
<h2>プロジェクトのメンテナ<a class="headerlink" href="#project-maintainer" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>プロジェクトのメンテナに関する情報および連絡手段を記載します．</p>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">maintainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;jane.doe@example.com&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="project-author">
<h2>プロジェクトの作成者<a class="headerlink" href="#project-author" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>プロジェクト作成者の情報を記載します．</p>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">author</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Jane Doe&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="project-copyright">
<h2>プロジェクトの著作権<a class="headerlink" href="#project-copyright" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>プロジェクトの著作権を明示する文言を記述します．</p>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">copyright</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;Copyright 2020 Jane Doe&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="project-description">
<h2>プロジェクトの概要<a class="headerlink" href="#project-description" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>プロジェクトに関する要約を記述します．プレーンテキストを用いてください．装飾用の情報は挿入しないでください．</p>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">description</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;A short summary on this project&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="project-categories">
<h2>プロジェクトの分類<a class="headerlink" href="#project-categories" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>プロジェクトは，様々な分類と関連付けることができます．</p>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">categories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;io&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="project-keywords">
<h2>プロジェクトのキーワード<a class="headerlink" href="#project-keywords" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>プロジェクトを説明する文字の配列を記述します．</p>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">keywords</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;hdf5&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;mpi&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="project-homepage">
<h2>プロジェクトのホームページ<a class="headerlink" href="#project-homepage" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>プロジェクトのウェブページへのURLを記載します．</p>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">homepage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;https://stdlib.fortran-lang.org&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="project-targets">
<h2>プロジェクトの構築対象<a class="headerlink" href="#project-targets" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>すべてのfpmプロジェクトは，構築対象としてライブラリ，実行ファイル，テストを定義できます．構築されたライブラリは，他のプロジェクトで利用できます．</p>
<div class="section" id="library-configuration">
<h3>ライブラリ<a class="headerlink" href="#library-configuration" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>プロジェクト内で構築され，展開されるライブラリを定義します．プロジェクト内にソースディレクトリもしくはインクルードディレクトリが見つかれば，ライブラリが生成されます．ソースおよびインクルードディレクトリの標準の名前はそれぞれ <code class="docutils literal notranslate"><span class="pre">src</span></code>および<code class="docutils literal notranslate"><span class="pre">include</span></code>であり，<em>library</em>設定項目の<em>source-dir</em>および<em>include-dir</em>で変更できます．ソースおよびインクルードディレクトリのパスはプロジェクト直下からの相対パスで与え，パスの区切りには<code class="docutils literal notranslate"><span class="pre">/</span></code>を用います．</p>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[library]</span>
<span class="n">source-dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;lib&quot;</span>
<span class="n">include-dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;inc&quot;</span>
</pre></div>
</div>
<p>Since <code class="docutils literal notranslate"><span class="pre">fpm</span> <span class="pre">v0.12.0</span></code>, a library target can be built as a <strong>monolithic</strong>, <strong>static</strong>, or <strong>shared</strong> library using the <code class="docutils literal notranslate"><span class="pre">[library]</span></code> table in your <code class="docutils literal notranslate"><span class="pre">fpm.toml</span></code>. The build mode is selected via the <code class="docutils literal notranslate"><span class="pre">type</span></code> key:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[library]</span>
<span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;monolithic&quot;</span><span class="w">  </span><span class="c1"># Default: single static archive bundling all code</span>
<span class="c1"># type = &quot;static&quot;     # Per-package static archives (.a or .lib)</span>
<span class="c1"># type = &quot;shared&quot;     # Per-package shared libraries (.so, .dll, .dylib)</span>
</pre></div>
</div>
<p>Since <code class="docutils literal notranslate"><span class="pre">fpm</span> <span class="pre">v0.14.0</span></code>, you can also build <strong>multiple library types simultaneously</strong> by specifying an array of types:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[library]</span>
<span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;shared&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;static&quot;</span><span class="p">]</span><span class="w">  </span><span class="c1"># Build both shared and static libraries</span>
</pre></div>
</div>
<p>This allows a single package to provide both shared and static library variants, giving downstream users the flexibility to choose the linking approach that best suits their needs. Note that the <code class="docutils literal notranslate"><span class="pre">&quot;monolithic&quot;</span></code> type (the default) cannot be combined with other types in the array.</p>
</div>
<div class="section" id="build-types">
<h3>📦 Build types<a class="headerlink" href="#build-types" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p><strong><code class="docutils literal notranslate"><span class="pre">monolithic</span></code></strong> <em>(default)</em>:
The root package and all its dependencies are compiled into a single static archive (<code class="docutils literal notranslate"><span class="pre">.a</span></code> or <code class="docutils literal notranslate"><span class="pre">.lib</span></code>). Only the objects required for building the apps, examples, and tests are actually included in the archive; everything else is pruned.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">static</span></code></strong>:
Each package is compiled into its own static archive. This can be used to integrate <code class="docutils literal notranslate"><span class="pre">fpm</span></code>-built libraries into other build systems at the archive level.</p></li>
<li><p><strong><code class="docutils literal notranslate"><span class="pre">shared</span></code></strong>:
Each package is compiled into its own shared/dynamic library (<code class="docutils literal notranslate"><span class="pre">.so</span></code>, <code class="docutils literal notranslate"><span class="pre">.dll</span></code>, or <code class="docutils literal notranslate"><span class="pre">.dylib</span></code>). These are linked dynamically, enabling reuse, faster incremental builds, and smaller binaries.</p></li>
</ul>
</div>
<div class="section" id="platform-support">
<h3>🛠️ Platform support<a class="headerlink" href="#platform-support" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>On <strong>Windows</strong> (including MinGW, MSVC, and Intel compilers), <code class="docutils literal notranslate"><span class="pre">fpm</span></code> also generates:</p>
<ul>
<li><p>A <code class="docutils literal notranslate"><span class="pre">.lib</span></code> import library for each <code class="docutils literal notranslate"><span class="pre">.dll</span></code></p></li>
<li><p>A <code class="docutils literal notranslate"><span class="pre">.def</span></code> export definition file if required by the compiler</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="installation-layout">
<h3>📂 Installation layout<a class="headerlink" href="#installation-layout" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>When the following setting is enabled:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[install]</span>
<span class="n">library</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</pre></div>
</div>
<p>Then all generated library files are installed to the <code class="docutils literal notranslate"><span class="pre">lib/</span></code> subdirectory of the chosen install prefix.</p>
<p>Naming follows the pattern:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>lib&lt;package_name&gt;.{a|so|dll|dylib}
</pre></div>
</div>
<p>This convention is versioning-friendly and platform-compatible.</p>
<div class="section" id="include-directory">
<h4>インクルードディレクトリ<a class="headerlink" href="#include-directory" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>Fortran fpmのみ対応しています．</p>
</div>
<p>Fortranの<code class="docutils literal notranslate"><span class="pre">include</span></code>文やCプリプロセッサの<code class="docutils literal notranslate"><span class="pre">#include</span></code>文を使用するプロジェクトでは，<em>include-dir</em>をインクルードファイルの探索ディレクトリの指定に利用できます．<em>include-dir</em>は一つ以上のディレクトリを指定でき，複数のディレクトリを指定するには文字列のリストを用います．依存関係で指定される全てのインクルードディレクトリは，適切なコンパイラフラグを介してコンパイラに渡されます．</p>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[library]</span>
<span class="n">include-dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;include&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;third_party/include&quot;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>現在の所，<em>include-dir</em>はビルド済みモジュールである<code class="docutils literal notranslate"><span class="pre">.mod</span></code>ファイルを使用できません．</p>
</div>
</div>
</div>
<div class="section" id="executable-targets">
<h3>実行ファイル<a class="headerlink" href="#executable-targets" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>実行ファイルは，<em>executable</em>設定項目で指定されたFortranのプログラムです．もし<em>executable</em>が書かれていない場合，<code class="docutils literal notranslate"><span class="pre">app</span></code>ディレクトリで<code class="docutils literal notranslate"><span class="pre">program</span></code>の定義が探索されます．明示的に実行ファイルを設定する場合，<em>name</em>が指定されている必要があります．各実行ファイルのソースディレクトリは，<em>source-dir</em>で設定できます．ソースディレクトリへのパスは，プロジェクト直下からの相対パスで与え，パスの区切りには<code class="docutils literal notranslate"><span class="pre">/</span></code>を用います．メインルーチンが定義されているソースファイルの名前は，<em>main</em>で指定します．</p>
<p>複数の実行ファイルがある場合，実行ファイルごとに依存関係を持つことができます．<a class="reference internal" href="#specifying-dependencies"><span class="std std-doc">依存関係の指定</span></a>を参照してください．</p>
<p>複数の実行ファイルがある場合，実行ファイルごとに外部ライブラリを指定できます．<a class="reference internal" href="#link-external-libraries"><span class="std std-doc">外部ライブラリのリンク</span></a>を参照してください．</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>ライブラリのリンクは，Fortran fpmのみ対応しています．</p>
</div>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[[executable]]</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;app-name&quot;</span>
<span class="n">source-dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prog&quot;</span>
<span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;program.f90&quot;</span>

<span class="k">[[executable]]</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;app-tool&quot;</span>
<span class="n">link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;z&quot;</span>
<span class="k">[executable.dependencies]</span>
<span class="n">helloff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;https://gitlab.com/everythingfunctional/helloff.git&quot;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>インラインテーブルを使用することで，多数の実行ファイルに対する個別の指定を簡潔に記述できます．</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">executable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;a-prog&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;app-tool&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">source-dir</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;tool&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="example-targets">
<h3>サンプル<a class="headerlink" href="#example-targets" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>プロジェクトのサンプルアプリケーションは，<em>example</em>設定項目で定義されます．もし<em>example</em>が指定されていない場合，<code class="docutils literal notranslate"><span class="pre">example</span></code>ディレクトリで<code class="docutils literal notranslate"><span class="pre">program</span></code>の定義が探索されます．明示的にサンプルを設定する場合，<em>name</em>が指定されている必要があります．各サンプルのソースディレクトリは，<em>source-dir</em>で設定できます．ソースディレクトリへのパスは，プロジェクト直下からの相対パスで与え，パスの区切りには<code class="docutils literal notranslate"><span class="pre">/</span></code>を用います．プログラム本体を含むソースファイルの名前は，<em>main</em>で指定します．</p>
<p>複数のサンプルがある場合，サンプルごとに依存関係を持つことができます．<a class="reference internal" href="#specifying-dependencies"><span class="std std-doc">依存関係の指定</span></a>を参照してください．</p>
<p>複数のサンプルがある場合，サンプルごとに外部ライブラリを指定できます．<a class="reference internal" href="#link-external-libraries"><span class="std std-doc">外部ライブラリ</span></a>を参照してください．</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>ライブラリのリンクは，Fortran fpmのみ対応しています．</p>
</div>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[[example]]</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;demo-app&quot;</span>
<span class="n">source-dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;demo&quot;</span>
<span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;program.f90&quot;</span>

<span class="k">[[example]]</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;example-tool&quot;</span>
<span class="n">link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;z&quot;</span>
<span class="k">[example.dependencies]</span>
<span class="n">helloff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;https://gitlab.com/everythingfunctional/helloff.git&quot;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="test-targets">
<h3>テスト<a class="headerlink" href="#test-targets" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>テストは，<em>test</em>設定項目で定義されたFortranプログラムです．これらは実行ファイルと同様の規則に従います．もし<em>test</em>が指定されていない場合，<code class="docutils literal notranslate"><span class="pre">test</span></code>ディレクトリで<code class="docutils literal notranslate"><span class="pre">program</span></code>の定義が探索されます．明示的にテストを設定する場合，<em>name</em>が指定されている必要があります．各実行ファイルのソースディレクトリは，<em>source-dir</em>で設定できます．ソースディレクトリへのパスは，プロジェク直下からの相対パスで与え，パスの区切りには<code class="docutils literal notranslate"><span class="pre">/</span></code>を用います．プログラム本体を含むソースファイルの名前は，<em>main</em>で指定します．</p>
<p>複数のテストがある場合，テストごとに依存関係を持つことができます．<a class="reference internal" href="#specifying-dependencies"><span class="std std-doc">依存関係の指定</span></a>を参照してください．</p>
<p>複数のテストがある場合，テストごとに外部ライブラリを指定できます．<a class="reference internal" href="#link-external-libraries"><span class="std std-doc">外部ライブラリのリンク</span></a>を参照してください．</p>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>ライブラリのリンクは，Fortran fpmのみ対応しています．</p>
</div>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[[test]]</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;test-name&quot;</span>
<span class="n">source-dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;testing&quot;</span>
<span class="n">main</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;tester.F90&quot;</span>

<span class="k">[[test]]</span>
<span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;tester&quot;</span>
<span class="n">link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;lapack&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;blas&quot;</span><span class="p">]</span>
<span class="k">[test.dependencies]</span>
<span class="n">helloff</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;https://gitlab.com/everythingfunctional/helloff.git&quot;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="link-external-libraries">
<h2>外部ライブラリのリンク<a class="headerlink" href="#link-external-libraries" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>Fortran fpmのみ対応しています．</p>
</div>
<p>外部ライブラリリンク時の依存関係を宣言するために，<em>link</em>設定項目にネイティブライブラリの一覧を指定できます．一つのライブラリは文字列で指定し，複数のライブラリをリンクする場合は文字列のリストを用います．できることなら，プロジェクトは一つのネイティブライブラリのみをリンクするべきでしょう．依存ライブラリの一覧は，依存するパッケージにも展開されます．</p>
<p><strong>例:</strong></p>
<p>zlib圧縮ライブラリをリンクするには，次の設定を用います．</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[build]</span>
<span class="n">link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;z&quot;</span>
</pre></div>
</div>
<p>When linking multiple libraries with dependencies, the order matters.
A library must appear before the libraries it depends on.</p>
<p>For example, since LAPACK depends on BLAS, BLAS must come later in the list:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[build]</span>
<span class="n">link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;lapack&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;blas&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="use-system-installed-modules">
<h2>システムにインストールされたモジュールの利用<a class="headerlink" href="#use-system-installed-modules" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>fpmパッケージやその依存関係の中で定義されていないモジュールを利用するには，<em>build</em>設定項目の<em>external-modules</em>を使用して，モジュールの名前を指定します．</p>
<div class="admonition important">
<p class="admonition-title">重要</p>
<p><em>fpm</em>は，外部モジュールファイルの位置を自動的に特定できません．ユーザは，コンパイラがコンパイル時に外部モジュールファイルを発見できるように，コンパイラフラグを利用してインクルードディレクトリを指定しなければなりません．</p>
</div>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[build]</span>
<span class="n">external-modules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;netcdf&quot;</span>
</pre></div>
</div>
<p>複数の外部モジュールをリストで指定できます．</p>
<p><strong>例:</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[build]</span>
<span class="n">external-modules</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;netcdf&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;h5lt&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="automatic-target-discovery">
<h2>構築対象の自動検出<a class="headerlink" href="#automatic-target-discovery" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>Fortran fpmのみ対応しています．</p>
</div>
<p>実行ファイルとテストは，標準のディレクトリ内であれば自動的に検出されます．自動検出では，<code class="docutils literal notranslate"><span class="pre">app</span></code>, <code class="docutils literal notranslate"><span class="pre">example</span></code>, <code class="docutils literal notranslate"><span class="pre">test</span></code>ディレクトリ内の<code class="docutils literal notranslate"><span class="pre">program</span></code>の定義を再帰的に検索し，実行ファイル，サンプル，テストをそれぞれ構築対象として宣言します．自動検出は，標準で有効にされています．</p>
<p>構築対象の自動検出を無効にするには，<em>auto-executables</em>, <em>auto-examples</em>, <em>auto-tests</em>を<em>false</em>に設定します．</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[build]</span>
<span class="n">auto-executables</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="n">auto-examples</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
<span class="n">auto-tests</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span>
</pre></div>
</div>
</div>
<div class="section" id="fortran-features">
<h2>Fortran features<a class="headerlink" href="#fortran-features" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Allows to enable and disable specific language features</p>
<div class="section" id="implicit-typing">
<h3>Implicit typing<a class="headerlink" href="#implicit-typing" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Allows to toggle whether the default implicit typing should be used.
The default option is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[fortran]</span>
<span class="n">implicit-typing</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w">  </span><span class="c1"># default: false</span>
</pre></div>
</div>
</div>
<div class="section" id="implicit-external">
<h3>Implicit external<a class="headerlink" href="#implicit-external" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Allows to toggle whether external interfaces can be declared implicitly.
The default option is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[fortran]</span>
<span class="n">implicit-external</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w">  </span><span class="c1"># default: false</span>
</pre></div>
</div>
</div>
<div class="section" id="source-form">
<h3>Source form<a class="headerlink" href="#source-form" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Allows to specifiy the source form to be used for all files in the project.
Possible choices are <code class="docutils literal notranslate"><span class="pre">&quot;free&quot;</span></code> to assume all files are free form source,
<code class="docutils literal notranslate"><span class="pre">&quot;fixed&quot;</span></code> to assume all files are fixed form source,
and <code class="docutils literal notranslate"><span class="pre">&quot;default&quot;</span></code> to let the compiler decide based on its own heuristics.
The default option is <code class="docutils literal notranslate"><span class="pre">&quot;free&quot;</span></code>.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[fortran]</span>
<span class="n">source-form</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;fixed&quot;</span><span class="w">  </span><span class="c1"># default: &quot;free&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="specifying-dependencies">
<h2>依存関係の指定<a class="headerlink" href="#specifying-dependencies" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>依存関係は，マニフェスト直下，あるいは<a class="reference internal" href="#executable-targets"><span class="std std-doc"><em>executable</em></span></a>か<a class="reference internal" href="#test-targets"><span class="std std-doc"><em>test</em></span></a>設定項目に，<em>dependencies</em>のテーブルとして宣言できます．マニフェスト直下に宣言した依存関係は，プロジェクトと共に外部に展開されます．</p>
<div class="section" id="dependencies-from-version-control-systems">
<h3>バージョンコントロールシステムからの依存関係の指定<a class="headerlink" href="#dependencies-from-version-control-systems" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>プロジェクトのgitリポジトリから依存関係を指定できます．</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[dependencies]</span>
<span class="n">toml-f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;https://github.com/toml-f/toml-f&quot;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>特定の上流ブランチを利用するには，<em>branch</em>の名前を次のように宣言します．</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[dependencies]</span>
<span class="n">toml-f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;https://github.com/toml-f/toml-f&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">branch</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;main&quot;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>または，<em>tag</em>を用いてタグを参照します．</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[dependencies]</span>
<span class="n">toml-f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;https://github.com/toml-f/toml-f&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">tag</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;v0.2.1&quot;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>特定のリビジョンに固定するには，<em>rev</em>にコミットハッシュを指定します．</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[dependencies]</span>
<span class="n">toml-f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;https://github.com/toml-f/toml-f&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">rev</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;2f5eaba&quot;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>インラインではなく通常のテーブルを利用すると，より冗長なレイアウトで依存関係が指定できます．</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[dependencies]</span>
<span class="k">[dependencies.toml-f]</span>
<span class="n">git</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;https://github.com/toml-f/toml-f&quot;</span>
<span class="n">rev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;2f5eaba864ff630ba0c3791126a3f811b6e437f3&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="dependencies-from-a-registry">
<h3>Dependencies from a registry<a class="headerlink" href="#dependencies-from-a-registry" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>To enable the usage of a registry in fpm make sure you read the instructions
in the <a class="reference internal" href="../registry/index.html"><span class="doc std std-doc">registry section</span></a> first.</p>
</div>
<div class="section" id="namespace">
<h4>Namespace<a class="headerlink" href="#namespace" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>Packages obtained from a registry (both remote and local) are required to specify a namespace, which provides a way to uniquely identify and differentiate packages with identical names. The namespace is declared in the manifest (<code class="docutils literal notranslate"><span class="pre">fpm.toml</span></code>).</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[dependencies]</span>
<span class="n">my-package</span><span class="p">.</span><span class="n">namespace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;my-namespace&quot;</span>
</pre></div>
</div>
<p>This will prompt fpm to download the newest version of &quot;my-package&quot;, which belongs to &quot;my-namespace&quot;, from the registry.</p>
</div>
<div class="section" id="version">
<h4>Version<a class="headerlink" href="#version" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>If you want to download a specific version of a package instead of the newest one available, you can specify the version (<code class="docutils literal notranslate"><span class="pre">v</span></code>) in the manifest.</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[dependencies]</span>
<span class="n">example-package</span><span class="p">.</span><span class="n">namespace</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;example-namespace&quot;</span>
<span class="n">example-package</span><span class="p">.</span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;1.0.0&quot;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="local-dependencies">
<h3>ローカルな依存関係の指定<a class="headerlink" href="#local-dependencies" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>ローカルな依存関係を宣言するには，<em>path</em>を用います．</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[dependencies]</span>
<span class="n">my-utils</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">path</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s2">&quot;utils&quot;</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>The local dependency path is given relative to the <code class="docutils literal notranslate"><span class="pre">fpm.toml</span></code> it is written to, and uses <code class="docutils literal notranslate"><span class="pre">/</span></code> as the path separator on all platforms.</p>
</div>
<div class="section" id="dependency-specific-macro-setting">
<h3>Dependency-specific macro setting<a class="headerlink" href="#dependency-specific-macro-setting" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>As of <code class="docutils literal notranslate"><span class="pre">fpm&gt;=0.9.1</span></code>, an array of dependency-specific macros can be passed to a single dependency from the manifest, in the same fashion as in the manifest's <a class="reference internal" href="#preprocessor-configuration"><span class="std std-doc">preprocessor configuration</span></a> table. Its <code class="docutils literal notranslate"><span class="pre">preprocess</span></code> table needs to be entered as part of the dependency entry. fpm will not check if the passed macros collide with the dependencie's own manifest, so, it is the user's responsibility to ensure that no collisions or unexpected behavior occur.
For example, one can control the <code class="docutils literal notranslate"><span class="pre">REAL</span></code> precision that one library is to be used with:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[dependencies]</span>
<span class="n">fftpack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">git</span><span class="p">=</span><span class="s2">&quot;https://github.com/fortran-lang/fftpack.git&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">preprocess</span><span class="p">.</span><span class="n">cpp</span><span class="p">.</span><span class="n">macros</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;REAL32&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="development-dependencies">
<h3>開発時の依存関係の指定<a class="headerlink" href="#development-dependencies" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>開発時の依存関係は，マニフェスト直下の<em>dev-dependencies</em>設定項目で宣言できます．これは全てのテストで利用できますが，他のプロジェクトには展開されません．</p>
</div>
</div>
<div class="section" id="installation-configuration">
<h2>インストール設定<a class="headerlink" href="#installation-configuration" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>In the <em>install</em> section components for the installation can be selected.
By default only executables are installed, library projects can set the <em>library</em> boolean to also install the module files and the archive.</p>
<p><strong>例</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[install]</span>
<span class="n">library</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
</pre></div>
</div>
<div class="section" id="custom-module-directory">
<h3>Custom module directory<a class="headerlink" href="#custom-module-directory" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">注釈</p>
<p>Available since fpm v0.14.0</p>
</div>
<p>Fortran projects generate compiled module files (<code class="docutils literal notranslate"><span class="pre">.mod</span></code>) during compilation, which contain interface information needed by other modules that use them. By default, fpm installs these module files to the <code class="docutils literal notranslate"><span class="pre">include/</span></code> directory within the installation prefix.</p>
<p>You can customize the installation directory for module files using the <em>module-dir</em> entry:</p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[install]</span>
<span class="n">library</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="n">module-dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;modules&quot;</span>
</pre></div>
</div>
<p>This is particularly useful for:</p>
<ul class="simple">
<li><p><strong>Separating module files from C headers</strong>: Keep Fortran <code class="docutils literal notranslate"><span class="pre">.mod</span></code> files separate from C/C++ header files</p></li>
<li><p><strong>Following system conventions</strong>: Some systems expect module files in specific directories (e.g., <code class="docutils literal notranslate"><span class="pre">/usr/lib/gfortran/modules/</span></code>)</p></li>
<li><p><strong>Organizing complex projects</strong>: Large projects with many modules can benefit from dedicated module directories</p></li>
</ul>
<p><em>Example with custom module directory:</em></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[install]</span>
<span class="n">library</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span>
<span class="n">module-dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;fortran/modules&quot;</span>
</pre></div>
</div>
<p>The module directory path is relative to the installation prefix. For example, with an installation prefix of <code class="docutils literal notranslate"><span class="pre">/usr/local</span></code>, the above configuration would install module files to <code class="docutils literal notranslate"><span class="pre">/usr/local/fortran/modules/</span></code>.</p>
<p><em>Example installation layout:</em></p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/usr/local/
├── bin/           # Executables
├── lib/           # Library archives (.a, .so, .dll)
└── fortran/
    └── modules/   # Fortran module files (.mod)
</pre></div>
</div>
<p>If <em>module-dir</em> is not specified, module files are installed to the default <code class="docutils literal notranslate"><span class="pre">include/</span></code> directory alongside any header files, maintaining backward compatibility.</p>
</div>
</div>
<div class="section" id="preprocessor-configuration">
<h2>Preprocessor configuration<a class="headerlink" href="#preprocessor-configuration" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Under the <em>preprocess</em> section, you can specify one or more preprocessor to use in an fpm project.</p>
<div class="section" id="specifying-the-preprocessor">
<h3>Specifying the preprocessor<a class="headerlink" href="#specifying-the-preprocessor" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>The <em>preprocess</em> section allows one or more preprocessors to be specified.
For example, <code class="docutils literal notranslate"><span class="pre">cpp</span></code> can be specified like this :</p>
<p><strong>例</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[preprocess]</span>
<span class="k">[preprocess.cpp]</span>
</pre></div>
</div>
<p>To use multiple preprocessors, for example <code class="docutils literal notranslate"><span class="pre">cpp</span></code> and <code class="docutils literal notranslate"><span class="pre">fypp</span></code>, specify them like this:</p>
<p><strong>例</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[preprocess]</span>
<span class="k">[preprocess.cpp]</span>
<span class="k">[preprocess.fypp]</span>
</pre></div>
</div>
<p>You can also specify source file suffixes that the preprocessor should run on:</p>
<p><strong>例</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[preprocess]</span>
<span class="k">[preprocess.cpp]</span>
<span class="n">suffixes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;F90&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;f90&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Further, you can instruct the preprocessor to run on source files in specific directories:</p>
<p><strong>例</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[preprocess]</span>
<span class="k">[preprocess.cpp]</span>
<span class="n">directories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;src/feature1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;src/models&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>Preprocessor macros can be defined like this:</p>
<p><strong>例</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[preprocess]</span>
<span class="k">[preprocess.cpp]</span>
<span class="n">macros</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;FOO&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;BAR&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>We can also use dotted keys to define our preprocessor settings.</p>
<p><strong>例</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[preprocess]</span>
<span class="n">cpp</span><span class="p">.</span><span class="n">suffixes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;F90&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;f90&quot;</span><span class="p">]</span>
<span class="n">cpp</span><span class="p">.</span><span class="n">directories</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;src/feature1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;src/models&quot;</span><span class="p">]</span>
<span class="n">cpp</span><span class="p">.</span><span class="n">macros</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;FOO&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;BAR&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>We can also define valued macros in preprocess table.</p>
<p><strong>例</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="k">[preprocess]</span>
<span class="k">[preprocess.cpp]</span>
<span class="n">macros</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;FOO=2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;BAR=4&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>We can also reuse values like version number from manifest as a value for a macro.</p>
<p><strong>例</strong></p>
<div class="highlight-toml notranslate"><div class="highlight"><pre><span></span><span class="n">version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;1&quot;</span>

<span class="k">[preprocess]</span>
<span class="k">[preprocess.cpp]</span>
<span class="n">macros</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;VERSION={version}&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="additional-free-data-field">
<h2>設定の追加欄<a class="headerlink" href="#additional-free-data-field" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p><em>extra</em>設定項目内に，第三者製ツールの設定を記述できます．この設定項目は，fpmによって評価はされません．正当なTOML形式であることが唯一の制約です．</p>
<p>この項目の書式は自由なので，ここでは<em>extra</em>に追加するデータの推奨事項のみを示します．</p>
<ol class="arabic simple">
<li><p>サブテーブルのみを使用し，<em>extra</em>に設定を追加してはならない．根拠：異なるツールが参照するデータを個々のサブテーブルに配置することで，名前の衝突を避けることができる．</p></li>
<li><p>サブテーブルには，一般的な名前ではなく，ツールの具体的な名前を用いる．根拠：異なるフォーマッタやリンタが，<em>format</em>あるいは<em>lint</em>サブテーブル内で相反するキーワードを使用する可能性がある．また，どのツールをプロジェクトで利用するのが適切かを，ユーザがテーブルの名前から判断できる．</p></li>
<li><p>fpmのプラグインは，<em>extra.fpm</em>項目内でプラグイン名を持つサブテーブルを使用してデータを格納する．根拠：この規約に従うことで，利用するプラグインの設定が書かれた単一の設定項目をユーザに提供できる．</p></li>
<li><p>キーワードの記述には，小文字とダッシュで構成されるfpmのスタイルを使用する．根拠：この設定項目の書式はチェックされないが，マニフェスト全体で一貫した書式を維持することにより，ユーザがパッケージマニフェスト全体を理解しやすくなる．</p></li>
</ol>
<p>上記推奨事項に対する反応を歓迎します．もしあなたがパッケージマニフェストの<em>extra</em>設定項目を使用するツールをお持ちの場合は，<a class="reference external" href="https://github.com/fortran-lang/fpm/discussions">fpmディスカッション掲示板</a>にその情報を投稿してください．</p>
</div>
</div>

<div class="section">
   
</div>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="index.html" title="前へ ページ">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">前へ</p>
            <p class="prev-next-title">参考資料</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="metapackages.html" title="次へ ページ">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">次へ</p>
        <p class="prev-next-title">Built-in dependencies (&quot;Metapackages&quot;)</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      著者 fpm contributors<br/>
    
        &copy; Copyright 2021 Fortran programming language community.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>